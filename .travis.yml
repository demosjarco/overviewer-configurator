language: node_js
node_js: node
dist: bionic
sudo: required
addons:
  apt:
    packages:
    - wine
before_deploy:
- npm run packagewin
- zip -r overviewer-configurator-win32-x64.zip overviewer-configurator-win32-x64
- git config --local user.name "demosjarco"
- git config --local user.email "demosjarco@users.noreply.github.com"
- export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h -1)}
- git tag $TRAVIS_TAG
deploy:
  provider: releases
  api_key:
    secure: njOzGV1S9zlc8OKDU7iGt10A9SGeIfuhtHjaiTB8Kd3S7r6dDMpZN9QoW0c5HaVKwGp7blNHtAnBE2gdaJ9P//yoXF0CIsq0JVlXqHCpAe8xXnqO9tkiYfOANPuMVsbVVpWUvbkeFFAvtlwm1fBj5UcxoAbbxW9ZbrG5ELxfyk2qr5AHhR7m7KjK+rBuhHlOmQuGrsiM9a6jGf13lCZFk5HPT/yqTU8621AFq13B0sntcCJSrAY50fC9LzgDIanybnaU2qgF+8UC0GBVh5OcI7qCSwrw+AAzBxwI5Yc8B8c4OjWRFisWIg/wPXCoea/26a9UgezxqrQB/crfmkVPUlMQ+9GPNN7YLwnP6ectDRJ68lrdEtNb4xqVmabDagza/PqHfNiwuoHRo/fWUoLG2d1RbSkt+rRnAgQ0/N34Lz1xmvgDQqGHdnsVXGwNoH6G0IS+S3DziCFh2H+/p3LB/bsZTOBvTzeEB9sB8lGDGpd0vGj3Y8GrApLw7O6DYKGbu8R40/miRzFbPH7y02843wZ73EiD+Ij/FQfc8xJCTXlDSPokarmUhO0BoMEWYD0pz15lSaqe/qXen0v88kPFjCkCiIM71M8kB5VLwFUNlz+/893DLhI3x7EVUfU2gz3YdvliDhkrf4dINOWEjILfFvKC0ClOzvYJmgGmFdWIPbc=
  file: overviewer-configurator-win32-x64.zip
  on:
    repo: demosjarco/overviewer-configurator
